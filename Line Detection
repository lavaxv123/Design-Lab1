#include <Wire.h>
#include <Adafruit_MotorShield.h>
#include "utility/Adafruit_PWMServoDriver.h"

Adafruit_MotorShield AFMS = Adafruit_MotorShield(); 

Adafruit_DCMotor *LeftMotor = AFMS.getMotor(3);
Adafruit_DCMotor *RightMotor = AFMS.getMotor(4);
void setup() 
{
Serial.begin(9600);

AFMS.begin();  
  LeftMotor->setSpeed(100);
  LeftMotor->run(RELEASE);

  RightMotor->setSpeed(100);
  RightMotor->run(RELEASE);
}

void loop() 
{  //Create three variables for each of the three line sensors
  int lineSensor1 = analogRead(A0);   //left sensor
  int lineSensor2 = analogRead(A1);   //center sensor
  int lineSensor3 = analogRead(A2);   //right sensor
  Serial.println(lineSensor1);
  delay(0);
  Serial.println(lineSensor2);
  delay(0);
  Serial.println(lineSensor3);
  delay(0);

  



  if (lineSensor2 > 400)  //if the middle sensor is reading a black line make both wheels go forward
  {
    LeftMotor->run(RELEASE);
    RightMotor->run(RELEASE);
    LeftMotor->run(FORWARD);
    RightMotor->run(FORWARD);
  }
  else if (lineSensor1 > 400)   //if the left sensor is reading a black line stop the left wheel and continue running the right wheel
  {                             //causing the mobile platform to turn to the left
    LeftMotor->run(RELEASE);
    RightMotor->run(RELEASE);
    RightMotor->run(FORWARD);
  }
  else if (lineSensor3 > 400)   //if the right sensor is reading a black line stop the right wheel and continue spinning the left wheel
  {                             //causing the mobile platform to turn to the right
    LeftMotor->run(RELEASE);
    RightMotor->run(RELEASE);
    LeftMotor->run(FORWARD);
  }
  else if (lineSensor2 < 400)   //if the middle sensor is no longer on the black line stop moving the mobile platform
  {
    LeftMotor->run(RELEASE);
    RightMotor->run(RELEASE);
    LeftMotor->run(BACKWARD);
    RightMotor->run(BACKWARD);
  }
  
  
 
  delay(0);
}
